<html>

  <head>
    <link rel="stylesheet" type="text/css" href="css/main.css">

    <style>
 #container{ position:absolute; left:0px; top:0px; z-index:0; width:100%; height:100%; display:block; overflow:hidden}
    </style>
  </head>

  <body>
    <div id="container"></div>

    <script src="lib/leap.js"></script>
    <script src="lib/three.r68.js"></script>
    <script src="lib/jquery.min.js"></script>
    <script src="lib/stats.min.js"></script>
    <script src="lib/dat.gui.min.js"></script>
    <script src="lib/underscore.js"></script>
    <script src="lib/Tween.js"></script>
    
    <script src="lib/ShaderLoader.js"></script>
    <script src="lib/TrackballControls.js"></script>

    <script src="lib/AudioController.js"></script>
    <script src="lib/AudioTexture.js"></script>
    <script src="lib/LoadedAudio.js"></script>
    <script src="lib/UserAudio.js"></script>
    <script src="lib/Looper.js"></script>

    <script src="lib/TextParticles.js"></script>

    <script src="lib/ObjectControls.js"></script>
    <script src="lib/RiggedSkeleton.js"></script>

    <script src="lib/ParticleUtils.js"></script>
    <script src="lib/PhysicsRenderer.js"></script>
    
    <script src="lib/Loader.js"></script>
    <script src="lib/PageLoader.js"></script>

    <script src="lib/Page.js"></script>
    
    
    
    <script src="js/global/FurryGroup.js"></script>
    <script src="js/global/FurryTail.js"></script>
    <script src="js/global/FurryHead.js"></script>
    
    <script src="js/pages/planets/Planet.js"></script>
    
    <script src="js/pages/forest/Forest.js"></script>
    <script src="js/pages/forest/Monome.js"></script>



    <!-- THESE ALWAYS GOES LAST -->
    <script src="js/Global.js"></script>

    <!-- The Pages -->
    <script src="js/planets.js"></script>
    <script src="js/forest.js"></script>


    <script>

      // TODO: 
      // Write shaders for hands

      //G.audio.mute.gain.value = 0;


      G.loader.addLoad();

      // For Hands
      G.shaders.load( 'global/vs-rHand' , 'rHand' , 'vertex'    );
      G.shaders.load( 'global/fs-rHand' , 'rHand' , 'fragment'  );
      G.shaders.load( 'global/vs-lHand' , 'lHand' , 'vertex'    );
      G.shaders.load( 'global/fs-lHand' , 'lHand' , 'fragment'  );

      // For Tails
    /*    var f = 'global/';

    this.loadShader( 'furryParticles' , f + 'vs-furryParticles' , 'vs' );
    this.loadShader( 'furryParticles' , f + 'fs-furryParticles' , 'fs' );
    this.loadShader( 'furryTail'      , f + 'vs-furryTail' , 'vs' );
    this.loadShader( 'furryTail'      , f + 'fs-furryTail' , 'fs' );
    this.loadShader( 'furryHead'      , f + 'vs-furryHead' , 'vs' );
    this.loadShader( 'furryHead'      , f + 'fs-furryHead' , 'fs' );
    this.loadShader( 'furryTailSim'   , f + 'furryTailSim' , 'ss' );
    this.loadShader( 'furryHeadSim'   , f + 'furryHeadSim' , 'ss' );*/


      // For text
      G.shaders.load( 'global/vs-text' , 'text' , 'vertex'    );
      G.shaders.load( 'global/fs-text' , 'text' , 'fragment'  );
      G.shaders.load( 'global/textSim' , 'textSim' , 'simulation'  );

      G.shaders.shaderSetLoaded = function(){
        G.loader.onLoad();
      }

      G.loadTextures();

      // We Only need to start once everything has inititialized
      G.loader.addLoad();
     /* G.pages.planets.init();
      G.pages.planets.addToOnLoadArray( function(){

        G.loader.onLoad();

      }.bind( G ));

      G.addToStartArray( function(){

        this.pages.planets.start();


      }.bind( G ) );*/


      G.pages.forest.init();
      G.pages.forest.addToOnLoadArray( function(){

        G.loader.onLoad();

      }.bind( G ));

      G.addToStartArray( function(){

        this.pages.forest.start();
        this.pages.forest.activate();


      }.bind( G ) );

    </script>

  </body>
</html>
